---
import PreviusIcon from "./icons/PreviusIcon.astro";
import NextIcon from "./icons/NextIcon.astro";
---

<section class="w-full h-[100vh] relative">
  <div class="slide-wrapper w-full h-full">
    <div class="slider w-full h-full">
      
      <img id="slide2" src="/Rusel/2.jpg" alt="..." />
      <img id="slide1" src="/Rusel/11.jpg" alt="..." />
      <img id="slide3" src="/Rusel/3.jpg" alt="..." />
      <img id="slide3" src="/Rusel/1.jpg" alt="..." />
      <img id="slide3" src="/Rusel/4.jpg" alt="..." />
    </div>
    <button
      id="prevButton"
      class="absolute top-1/2 left-0 transform -translate-y-1/2 z-10 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
    >
      <PreviusIcon />
    </button>
    <button
      id="nextButton"
      class="absolute top-1/2 right-0 transform -translate-y-1/2 z-10 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none"
    >
      <NextIcon />
    </button>
  </div>
</section>

<script>
  let autoScrollInterval: number;
  let slider: HTMLElement;

  function scrollSlider(direction: number) {
    clearInterval(autoScrollInterval);
    slider.scrollBy({ left: direction * window.innerWidth, behavior: 'smooth' });
    startAutoScroll();
  }

  function startAutoScroll() {
    autoScrollInterval = setInterval(() => {
      slider.scrollBy({ left: window.innerWidth, behavior: 'smooth' });
    }, 10000);
  }

  document.addEventListener('DOMContentLoaded', () => {
    slider = document.querySelector('.slider')!;
    if (slider) {
      startAutoScroll();
    }

    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');

    if (prevButton && nextButton) {
      prevButton.addEventListener('click', () => scrollSlider(-1));
      nextButton.addEventListener('click', () => scrollSlider(1));
    }
  });
</script>

<style>
  .slide-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .slider {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    box-shadow: 0 1.5rem 3rem -0.75rem hsla(0, 0%, 0%, 0.25);
    scrollbar-width: none;
    min-height: 90vh;
  }

  .slider::-webkit-scrollbar {
    display: none;
  }

  .slider img {
    flex: 1 0 100%;
    scroll-snap-align: start;
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  nav {
    background: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
  }

  nav ul li a {
    color: white; /* Change text color to white */
  }
</style>